{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/emp.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/forms\";\nfunction EmpComponent_div_3_option_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 9);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const skill_r6 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", skill_r6.skillID);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", skill_r6.skillName, \" \");\n  }\n}\nfunction EmpComponent_div_3_button_5_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r9 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 10);\n    i0.ɵɵlistener(\"click\", function EmpComponent_div_3_button_5_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r9);\n      const i_r2 = i0.ɵɵnextContext().index;\n      const ctx_r7 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r7.removeSkillField(i_r2));\n    });\n    i0.ɵɵtext(1, \" Remove \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction EmpComponent_div_3_button_6_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r11 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 11);\n    i0.ɵɵlistener(\"click\", function EmpComponent_div_3_button_6_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r11);\n      const ctx_r10 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r10.addSkillField());\n    });\n    i0.ɵɵtext(1, \" Add \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction EmpComponent_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r13 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 3)(1, \"select\", 4);\n    i0.ɵɵlistener(\"ngModelChange\", function EmpComponent_div_3_Template_select_ngModelChange_1_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r13);\n      const i_r2 = restoredCtx.index;\n      const ctx_r12 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r12.employee.skillIDs[i_r2] = $event);\n    });\n    i0.ɵɵelementStart(2, \"option\", 5);\n    i0.ɵɵtext(3, \"-- Select Skill --\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(4, EmpComponent_div_3_option_4_Template, 2, 2, \"option\", 6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(5, EmpComponent_div_3_button_5_Template, 2, 0, \"button\", 7);\n    i0.ɵɵtemplate(6, EmpComponent_div_3_button_6_Template, 2, 0, \"button\", 8);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const i_r2 = ctx.index;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.employee.skillIDs[i_r2])(\"name\", \"skill\" + i_r2);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.skills);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.employee.skillIDs.length > 1);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", i_r2 === ctx_r0.employee.skillIDs.length - 1);\n  }\n}\nexport class EmpComponent {\n  constructor(employeeService) {\n    this.employeeService = employeeService;\n    this.skills = [];\n    this.employee = {\n      employeeID: '',\n      name: '',\n      email: '',\n      skillIDs: []\n    };\n    this.insertedEmployee = null;\n  }\n  ngOnInit() {\n    this.loadSkills();\n  }\n  loadSkills() {\n    this.employeeService.getSkills().subscribe(data => {\n      this.skills = data;\n    });\n  }\n  addSkillField() {\n    this.employee.skillIDs.push('');\n  }\n  removeSkillField(index) {\n    this.employee.skillIDs.splice(index, 1);\n  }\n  onSubmit() {\n    this.employeeService.addEmployee(this.employee).subscribe({\n      next: res => {\n        this.insertedEmployee = res;\n        alert('Employee saved successfully!');\n        this.employee = {\n          employeeID: '',\n          name: '',\n          email: '',\n          skillIDs: []\n        };\n      },\n      error: err => {\n        console.error(err);\n        alert('Error while saving employee');\n      }\n    });\n  }\n  static {\n    this.ɵfac = function EmpComponent_Factory(t) {\n      return new (t || EmpComponent)(i0.ɵɵdirectiveInject(i1.EmpService));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: EmpComponent,\n      selectors: [[\"app-emp\"]],\n      decls: 4,\n      vars: 1,\n      consts: [[1, \"mb-3\"], [1, \"form-label\"], [\"class\", \"d-flex mb-2 align-items-center\", 4, \"ngFor\", \"ngForOf\"], [1, \"d-flex\", \"mb-2\", \"align-items-center\"], [1, \"form-select\", \"me-2\", 3, \"ngModel\", \"name\", \"ngModelChange\"], [\"value\", \"\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [\"class\", \"btn btn-danger btn-sm me-2\", 3, \"click\", 4, \"ngIf\"], [\"class\", \"btn btn-success btn-sm\", 3, \"click\", 4, \"ngIf\"], [3, \"value\"], [1, \"btn\", \"btn-danger\", \"btn-sm\", \"me-2\", 3, \"click\"], [1, \"btn\", \"btn-success\", \"btn-sm\", 3, \"click\"]],\n      template: function EmpComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"label\", 1);\n          i0.ɵɵtext(2, \"Skills\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(3, EmpComponent_div_3_Template, 7, 5, \"div\", 2);\n          i0.ɵɵelementEnd();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(3);\n          i0.ɵɵproperty(\"ngForOf\", ctx.employee.skillIDs);\n        }\n      },\n      dependencies: [i2.NgForOf, i2.NgIf, i3.NgSelectOption, i3.ɵNgSelectMultipleOption, i3.SelectControlValueAccessor, i3.NgControlStatus, i3.NgModel],\n      styles: [\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n    });\n  }\n}","map":{"version":3,"names":["i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵproperty","skill_r6","skillID","ɵɵadvance","ɵɵtextInterpolate1","skillName","ɵɵlistener","EmpComponent_div_3_button_5_Template_button_click_0_listener","ɵɵrestoreView","_r9","i_r2","ɵɵnextContext","index","ctx_r7","ɵɵresetView","removeSkillField","EmpComponent_div_3_button_6_Template_button_click_0_listener","_r11","ctx_r10","addSkillField","EmpComponent_div_3_Template_select_ngModelChange_1_listener","$event","restoredCtx","_r13","ctx_r12","employee","skillIDs","ɵɵtemplate","EmpComponent_div_3_option_4_Template","EmpComponent_div_3_button_5_Template","EmpComponent_div_3_button_6_Template","ctx_r0","skills","length","EmpComponent","constructor","employeeService","employeeID","name","email","insertedEmployee","ngOnInit","loadSkills","getSkills","subscribe","data","push","splice","onSubmit","addEmployee","next","res","alert","error","err","console","ɵɵdirectiveInject","i1","EmpService","selectors","decls","vars","consts","template","EmpComponent_Template","rf","ctx","EmpComponent_div_3_Template"],"sources":["C:\\Users\\HomePC\\Desktop\\New folder\\Client\\src\\app\\components\\emp\\emp.component.ts","C:\\Users\\HomePC\\Desktop\\New folder\\Client\\src\\app\\components\\emp\\emp.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { EmployeeDto, EmployeeViewDto, EmpService, Skill } from 'src/app/services/emp.service';\n\n@Component({\n  selector: 'app-emp',\n  templateUrl: './emp.component.html',\n  styleUrls: ['./emp.component.css']\n})\nexport class EmpComponent implements OnInit{\n  skills: Skill[] = [];\n  employee: EmployeeDto = {\n    employeeID: '',\n    name: '',\n    email: '',\n    skillIDs: []\n  };\n  insertedEmployee: EmployeeViewDto | null = null;\n\n  constructor(private employeeService: EmpService) {}\n\n  ngOnInit(): void {\n    this.loadSkills();\n  }\n\n  loadSkills(): void {\n    this.employeeService.getSkills().subscribe(data => {\n      this.skills = data;\n    });\n  }\n  addSkillField(): void {\n    this.employee.skillIDs.push('');\n  }\n\n  removeSkillField(index: number): void {\n    this.employee.skillIDs.splice(index, 1);\n  }\n  onSubmit(): void {\n    this.employeeService.addEmployee(this.employee).subscribe({\n      next: (res) => {\n        this.insertedEmployee = res;\n        alert('Employee saved successfully!');\n        this.employee = { employeeID: '', name: '', email: '', skillIDs: [] };\n      },\n      error: (err) => {\n        console.error(err);\n        alert('Error while saving employee');\n      }\n    });\n  }\n\n}\n","<div class=\"mb-3\">\n  <label class=\"form-label\">Skills</label>\n\n  <div *ngFor=\"let skillID of employee.skillIDs; let i = index\" class=\"d-flex mb-2 align-items-center\">\n    <select\n      class=\"form-select me-2\"\n      [(ngModel)]=\"employee.skillIDs[i]\"\n      [name]=\"'skill' + i\"\n    >\n      <option value=\"\">-- Select Skill --</option>\n      <option *ngFor=\"let skill of skills\" [value]=\"skill.skillID\">\n        {{ skill.skillName }}\n      </option>\n    </select>\n\n    <button class=\"btn btn-danger btn-sm me-2\" (click)=\"removeSkillField(i)\" *ngIf=\"employee.skillIDs.length > 1\">\n      Remove\n    </button>\n    <button class=\"btn btn-success btn-sm\" (click)=\"addSkillField()\" *ngIf=\"i === employee.skillIDs.length - 1\">\n      Add\n    </button>\n  </div>\n</div>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}